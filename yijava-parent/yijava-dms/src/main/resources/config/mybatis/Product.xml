<?xml version="1.0" encoding="UTF-8" ?>  
    <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Product">

<sql id="adsWhere">
<trim prefix="WHERE" prefixOverrides="AND|OR">
	<if test="@com.yijava.orm.core.OgnlUtils@isNotEmpty(item_number)">
		  and item_number=#{item_number}
	</if>
</trim>
</sql>

<sql id="adsOrder">
	<choose>  
            <when test="@com.yijava.orm.core.OgnlUtils@isNotEmpty(orderSql)">  
                ORDER BY ${orderSql}
            </when>
            <otherwise> 
            </otherwise>  
        </choose>
        
</sql>

    
    <select id="selectByObjectcount" resultType="long">
		select count(*) from tb_product 
		<include refid="adsWhere"/>
	</select>

 	<select id="selectByObject" resultType="dms.yijava.entity.Product">
		select * from tb_product 
		<include refid="adsWhere"/><include refid="adsOrder"/>
	    limit #{offset},#{pagesize}  
	</select>
	
	<select id="select"  parameterType="int" resultType="dms.yijava.entity.Product">
        select * from tb_product where item_number = #{item_number}
    </select>
	
	<insert id="insert" parameterType="dms.yijava.entity.Product">     
    	  insert into tb_product (cname) values(#{cname})
    </insert>
    
    <update id="update" parameterType="dms.yijava.entity.Product">
    	update tb_product_category set cname=#{cname} where item_number = #{item_number}
    </update>
    
    
</mapper>