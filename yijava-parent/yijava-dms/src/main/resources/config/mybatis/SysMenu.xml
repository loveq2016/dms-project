<?xml version="1.0" encoding="UTF-8" ?>  
    <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="SysMenu">	
	<select id="selectByMap" resultType="dms.yijava.entity.system.SysMenu">
		select id,fk_parent_id,menu_name,
		case when (select count(1) from tb_manager_menu b where a.id = b.fk_parent_id)>0 then 'closed' else 'open' end as state
		from tb_manager_menu a where fk_parent_id = #{fk_parent_id}
	</select>
</mapper>